// Responsive Utilities for Consistent Mobile Experience

// Breakpoint variables to match Bootstrap 5
$breakpoint-xs: 0;
$breakpoint-sm: 576px;
$breakpoint-md: 768px;
$breakpoint-lg: 992px;
$breakpoint-xl: 1200px;
$breakpoint-xxl: 1400px;

// Spacing utilities for mobile
.mobile-spacing {
  @media (max-width: #{$breakpoint-md - 1}) {
    &.p-mobile-1 {
      padding: 0.25rem !important;
    }
    &.p-mobile-2 {
      padding: 0.5rem !important;
    }
    &.p-mobile-3 {
      padding: 1rem !important;
    }
    &.p-mobile-4 {
      padding: 1.5rem !important;
    }

    &.px-mobile-1 {
      padding-left: 0.25rem !important;
      padding-right: 0.25rem !important;
    }
    &.px-mobile-2 {
      padding-left: 0.5rem !important;
      padding-right: 0.5rem !important;
    }
    &.px-mobile-3 {
      padding-left: 1rem !important;
      padding-right: 1rem !important;
    }

    &.py-mobile-1 {
      padding-top: 0.25rem !important;
      padding-bottom: 0.25rem !important;
    }
    &.py-mobile-2 {
      padding-top: 0.5rem !important;
      padding-bottom: 0.5rem !important;
    }
    &.py-mobile-3 {
      padding-top: 1rem !important;
      padding-bottom: 1rem !important;
    }

    &.m-mobile-1 {
      margin: 0.25rem !important;
    }
    &.m-mobile-2 {
      margin: 0.5rem !important;
    }
    &.m-mobile-3 {
      margin: 1rem !important;
    }

    &.mx-mobile-1 {
      margin-left: 0.25rem !important;
      margin-right: 0.25rem !important;
    }
    &.mx-mobile-2 {
      margin-left: 0.5rem !important;
      margin-right: 0.5rem !important;
    }
    &.mx-mobile-3 {
      margin-left: 1rem !important;
      margin-right: 1rem !important;
    }

    &.my-mobile-1 {
      margin-top: 0.25rem !important;
      margin-bottom: 0.25rem !important;
    }
    &.my-mobile-2 {
      margin-top: 0.5rem !important;
      margin-bottom: 0.5rem !important;
    }
    &.my-mobile-3 {
      margin-top: 1rem !important;
      margin-bottom: 1rem !important;
    }
  }
}

// Font size utilities for mobile
@media (max-width: #{$breakpoint-md - 1}) {
  .fs-mobile-xs {
    font-size: 0.75rem !important;
  }
  .fs-mobile-sm {
    font-size: 0.875rem !important;
  }
  .fs-mobile-base {
    font-size: 1rem !important;
  }
  .fs-mobile-lg {
    font-size: 1.125rem !important;
  }
  .fs-mobile-xl {
    font-size: 1.25rem !important;
  }
}

// Button size adjustments for mobile
@media (max-width: #{$breakpoint-md - 1}) {
  .btn-mobile-sm {
    padding: 0.25rem 0.5rem !important;
    font-size: 0.75rem !important;
    line-height: 1.3 !important;
  }

  .btn-mobile-xs {
    padding: 0.125rem 0.375rem !important;
    font-size: 0.625rem !important;
    line-height: 1.2 !important;
  }
}

// Card spacing for mobile
@media (max-width: #{$breakpoint-md - 1}) {
  .card-mobile-compact .card-body {
    padding: 0.75rem !important;
  }

  .card-mobile-xs .card-body {
    padding: 0.5rem !important;
  }
}

// Table responsive enhancements
@media (max-width: #{$breakpoint-md - 1}) {
  .table-mobile-compact {
    font-size: 0.875rem;

    th,
    td {
      padding: 0.375rem 0.25rem !important;
      vertical-align: middle;
    }

    .btn {
      padding: 0.125rem 0.375rem;
      font-size: 0.75rem;
    }
  }
}

// Form elements for mobile
@media (max-width: #{$breakpoint-md - 1}) {
  .form-mobile-compact {
    .form-control,
    .form-select {
      padding: 0.375rem 0.75rem;
      font-size: 0.875rem;
    }

    .form-label {
      font-size: 0.875rem;
      font-weight: 500;
    }

    .input-group-text {
      padding: 0.375rem 0.75rem;
      font-size: 0.875rem;
    }
  }
}

// Modal adjustments for mobile
@media (max-width: #{$breakpoint-md - 1}) {
  .modal-mobile-fullscreen {
    .modal-dialog {
      margin: 0.5rem;
      max-width: calc(100% - 1rem);

      .modal-content {
        border-radius: 0.5rem;
      }
    }
  }
}

// Navigation improvements for mobile
@media (max-width: #{$breakpoint-lg - 1}) {
  .nav-mobile-stack {
    .nav-link {
      padding: 0.5rem 0.75rem;
      font-size: 0.875rem;

      i {
        margin-right: 0.375rem;
      }
    }
  }
}

// Grid system enhancements
@media (max-width: #{$breakpoint-md - 1}) {
  .row-mobile-tight {
    --bs-gutter-x: 0.75rem;
    --bs-gutter-y: 0.75rem;
  }

  .col-mobile-full {
    flex: 0 0 100%;
    max-width: 100%;
  }
}

// Utility classes for touch devices
@media (hover: none) and (pointer: coarse) {
  .touch-friendly {
    .btn,
    .form-control,
    .form-select {
      min-height: 44px; // Apple's recommended touch target size
    }

    .table td,
    .table th {
      padding: 0.75rem 0.5rem;
    }
  }
}

// Hide/show elements based on device
@media (max-width: #{$breakpoint-sm - 1}) {
  .d-xs-none {
    display: none !important;
  }
}

@media (min-width: $breakpoint-sm) and (max-width: #{$breakpoint-md - 1}) {
  .d-sm-only {
    display: block !important;
  }
}

@media (min-width: $breakpoint-md) {
  .d-md-up {
    display: block !important;
  }
}

// Loading state improvements for mobile
@media (max-width: #{$breakpoint-md - 1}) {
  .loading-mobile {
    .spinner-border {
      width: 1.5rem;
      height: 1.5rem;
    }

    .loading-text {
      font-size: 0.875rem;
      margin-top: 0.5rem;
    }
  }
}

// Alert/notification styles for mobile
@media (max-width: #{$breakpoint-md - 1}) {
  .alert-mobile {
    padding: 0.75rem;
    font-size: 0.875rem;
    margin-bottom: 0.75rem;

    .alert-heading {
      font-size: 1rem;
      margin-bottom: 0.5rem;
    }
  }
}

// Breadcrumb mobile adjustments
@media (max-width: #{$breakpoint-md - 1}) {
  .breadcrumb-mobile {
    font-size: 0.75rem;
    padding: 0.5rem 0.75rem;
    margin-bottom: 0.75rem;

    .breadcrumb-item {
      &:not(:last-child)::after {
        margin: 0 0.25rem;
      }
    }
  }
}
